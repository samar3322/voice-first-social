<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceFirst Social</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4a00e0;
            --secondary: #8e2de2;
            --accent: #00c9ff;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #28a745;
            --danger: #dc3545;
            --warning: #ffc107;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 12px;
            --box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: var(--light);
            min-height: 100vh;
            padding-bottom: 80px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
            position: relative;
        }

        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
        }

        .tagline {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease forwards;
        }

        .active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Auth Screens */
        .auth-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 30px;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: var(--box-shadow);
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-header h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.2);
            color: white;
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--accent);
        }

        .btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 14px 28px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: var(--box-shadow);
            width: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--accent);
            color: var(--accent);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 0.9rem;
            width: auto;
        }

        .switch-auth {
            text-align: center;
            margin-top: 20px;
            font-size: 0.95rem;
        }

        .switch-auth a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
        }

        .switch-auth a:hover {
            text-decoration: underline;
        }

        /* Profile Screen */
        .profile-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            cursor: pointer;
            position: relative;
        }

        .profile-avatar:hover::after {
            content: "Edit";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px;
            font-size: 0.8rem;
            border-radius: 0 0 50% 50%;
        }

        .profile-info h2 {
            margin-bottom: 10px;
        }

        .profile-info p {
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .profile-stats {
            display: flex;
            gap: 30px;
            margin-top: 15px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .profile-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        /* Edit Profile Screen */
        .edit-profile-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
        }

        .edit-profile-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .edit-profile-header h2 {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .avatar-upload {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
        }

        .avatar-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        .avatar-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        .avatar-preview .avatar-text {
            position: absolute;
        }

        .avatar-upload input {
            display: none;
        }

        .avatar-upload label {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 16px;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
        }

        .avatar-upload label:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-screen h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            transition: var(--transition);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.12);
        }

        .feature-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--accent);
        }

        /* Recorder Screen */
        .recorder-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .effects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .effect-option {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            padding: 15px 10px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .effect-option:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .effect-option.active {
            border-color: var(--accent);
            background: rgba(0, 201, 255, 0.15);
        }

        .effect-option i {
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: block;
        }

        .recording-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }

        .record-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--danger);
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            box-shadow: 0 0 20px rgba(220, 53, 69, 0.5);
        }

        .record-btn.recording {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(220, 53, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
        }

        .timer {
            font-size: 1.2rem;
            font-weight: 600;
            margin-top: 15px;
        }

        .preview-container {
            background: rgba(0, 0, 0, 0.2);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .preview-container.active {
            display: block;
        }

        .preview-audio {
            width: 100%;
            margin: 15px 0;
        }

        /* Feed Screen */
        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .feed-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .feed-actions .btn {
            padding: 10px 20px;
            font-size: 0.9rem;
        }

        .feed-container {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .voice-note {
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .voice-note:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .note-header {
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .user-info h3 {
            margin-bottom: 5px;
        }

        .user-info p {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .note-content {
            padding: 20px;
        }

        .effect-badge {
            display: inline-block;
            background: rgba(0, 201, 255, 0.2);
            color: var(--accent);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-bottom: 15px;
        }

        .note-audio {
            width: 100%;
            margin: 15px 0;
        }

        .note-stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 30px;
            transition: var(--transition);
        }

        .stat:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .stat.liked {
            color: var(--accent);
        }

        .stat.disliked {
            color: var(--danger);
        }

        .comments-section {
            padding: 0 20px 20px;
        }

        .comments-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .comments-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 10px;
        }

        .comment {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            display: flex;
            gap: 12px;
        }

        .comment-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(to right, var(--accent), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            flex-shrink: 0;
        }

        .comment-content {
            flex-grow: 1;
        }

        .comment-author {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .comment-text {
            font-size: 0.95rem;
            opacity: 0.9;
        }

        .add-comment {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .add-comment input {
            flex-grow: 1;
            padding: 12px 15px;
            border-radius: 30px;
            border: none;
            background: rgba(255, 255, 255, 0.08);
            color: white;
        }

        .add-comment button {
            background: var(--accent);
            color: var(--dark);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .add-comment button:hover {
            transform: scale(1.05);
        }

        /* Back Button */
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-3px);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 25px 0;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .recorder-container, .voice-note {
                padding: 15px;
            }
            
            .note-header {
                padding: 15px;
            }
            
            .note-content {
                padding: 15px;
            }
            
            .comments-section {
                padding: 0 15px 15px;
            }
            
            .recording-controls {
                gap: 15px;
            }
            
            .record-btn {
                width: 70px;
                height: 70px;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-stats {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .feed-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .feed-actions {
                width: 100%;
                justify-content: center;
            }
            
            .effects-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .profile-actions {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Back Button -->
    <button class="back-btn" id="backBtn">
        <i class="fas fa-arrow-left"></i>
    </button>

    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-microphone-alt"></i> VoiceFirst
            </div>
            <p class="tagline">A privacy-first, voice-led community platform</p>
        </header>

        <!-- Sign Up Screen -->
        <div id="signupScreen" class="screen active">
            <div class="auth-container">
                <div class="auth-header">
                    <h2>Create Account</h2>
                    <p>Join the voice-first community</p>
                </div>
                
                <form id="signupForm">
                    <div class="form-group">
                        <label for="signupName">Full Name</label>
                        <input type="text" id="signupName" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="signupUsername">Username</label>
                        <input type="text" id="signupUsername" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" class="form-control" required>
                    </div>
                    
                    <button type="submit" class="btn">
                        <i class="fas fa-user-plus"></i> Sign Up
                    </button>
                </form>
                
                <div class="switch-auth">
                    Already have an account? <a href="#" id="goToLogin">Sign In</a>
                </div>
            </div>
        </div>

        <!-- Sign In Screen -->
        <div id="loginScreen" class="screen">
            <div class="auth-container">
                <div class="auth-header">
                    <h2>Welcome Back</h2>
                    <p>Sign in to your account</p>
                </div>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginUsername">Username or Email</label>
                        <input type="text" id="loginUsername" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" class="form-control" required>
                    </div>
                    
                    <button type="submit" class="btn">
                        <i class="fas fa-sign-in-alt"></i> Sign In
                    </button>
                </form>
                
                <div class="switch-auth">
                    Don't have an account? <a href="#" id="goToSignup">Sign Up</a>
                </div>
            </div>
        </div>

        <!-- Profile Screen -->
        <div id="profileScreen" class="screen">
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">S</div>
                    <div class="profile-info">
                        <h2 id="profileName">Samar Jeet Jamwal</h2>
                        <p id="profileUsername">@samarjamwal</p>
                        <p id="profileEmail">samar@example.com</p>
                        
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-value" id="postsCount">12</div>
                                <div class="stat-label">Posts</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="likesCount">42</div>
                                <div class="stat-label">Likes</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="commentsCount">28</div>
                                <div class="stat-label">Comments</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-actions">
                    <button class="btn btn-outline" id="editProfileBtn">
                        <i class="fas fa-edit"></i> Edit Profile
                    </button>
                    <button class="btn btn-outline" id="logoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </div>

        <!-- Edit Profile Screen -->
        <div id="editProfileScreen" class="screen">
            <div class="edit-profile-container">
                <div class="edit-profile-header">
                    <h2>Edit Profile</h2>
                    <p>Update your personal information</p>
                </div>
                
                <form id="editProfileForm">
                    <div class="avatar-upload">
                        <div class="avatar-preview" id="avatarPreview">
                            <span class="avatar-text" id="avatarText">S</span>
                            <img id="avatarImage" src="" alt="Avatar">
                        </div>
                        <input type="file" id="avatarUpload" accept="image/*">
                        <label for="avatarUpload">
                            <i class="fas fa-camera"></i> Change Photo
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="editName">Full Name</label>
                        <input type="text" id="editName" class="form-control" value="Samar Jeet Jamwal">
                    </div>
                    
                    <div class="form-group">
                        <label for="editUsername">Username</label>
                        <input type="text" id="editUsername" class="form-control" value="samarjamwal">
                    </div>
                    
                    <div class="form-group">
                        <label for="editEmail">Email</label>
                        <input type="email" id="editEmail" class="form-control" value="samar@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="editBio">Bio</label>
                        <textarea id="editBio" class="form-control" rows="3">Voice enthusiast and creator of VoiceFirst Social</textarea>
                    </div>
                    
                    <button type="submit" class="btn">
                        <i class="fas fa-save"></i> Save Changes
                    </button>
                </form>
            </div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="screen">
            <div class="welcome-screen">
                <h1>Welcome to VoiceFirst</h1>
                <p>The world's first voice-only social network where authentic conversation comes first</p>
                
                <div class="features">
                    <div class="feature-card">
                        <i class="fas fa-microphone"></i>
                        <h3>Voice Recording</h3>
                        <p>Record up to 1-minute voice notes</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-sliders-h"></i>
                        <h3>Voice Effects</h3>
                        <p>Apply fun effects before posting</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-comments"></i>
                        <h3>Community Feed</h3>
                        <p>Listen to voices from around the world</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Privacy First</h3>
                        <p>All data stored locally on your device</p>
                    </div>
                </div>
                
                <button class="btn" id="startBtn">
                    <i class="fas fa-microphone-alt"></i> Start Recording
                </button>
                
                <button class="btn btn-outline" id="viewProfileBtn" style="margin-top: 20px;">
                    <i class="fas fa-user"></i> View Profile
                </button>
            </div>
        </div>

        <!-- Recorder Screen -->
        <div id="recorderScreen" class="screen">
            <div class="recorder-container">
                <h2><i class="fas fa-microphone"></i> Record Your Voice</h2>
                
                <div class="form-group">
                    <label for="displayName">Display Name (Optional)</label>
                    <input type="text" id="displayName" class="form-control" placeholder="Enter your name">
                </div>
                
                <div class="form-group">
                    <label>Select Voice Effect</label>
                    <div class="effects-grid">
                        <div class="effect-option active" data-effect="normal">
                            <i class="fas fa-volume-up"></i>
                            <span>Normal</span>
                        </div>
                        <div class="effect-option" data-effect="pitchUp">
                            <i class="fas fa-arrow-up"></i>
                            <span>Pitch Up</span>
                        </div>
                        <div class="effect-option" data-effect="pitchDown">
                            <i class="fas fa-arrow-down"></i>
                            <span>Pitch Down</span>
                        </div>
                        <div class="effect-option" data-effect="robot">
                            <i class="fas fa-robot"></i>
                            <span>Robot</span>
                        </div>
                        <div class="effect-option" data-effect="echo">
                            <i class="fas fa-wave-square"></i>
                            <span>Echo</span>
                        </div>
                        <div class="effect-option" data-effect="alien">
                            <i class="fas fa-space-shuttle"></i>
                            <span>Alien</span>
                        </div>
                    </div>
                </div>
                
                <div class="recording-controls">
                    <button class="record-btn" id="recordBtn">
                        <i class="fas fa-microphone"></i>
                    </button>
                </div>
                
                <div class="timer" id="timer">00:00</div>
                
                <div class="preview-container" id="previewContainer">
                    <h3><i class="fas fa-play-circle"></i> Preview</h3>
                    <audio id="previewAudio" class="preview-audio" controls></audio>
                    <button class="btn" id="postBtn">
                        <i class="fas fa-paper-plane"></i> Post Voice Note
                    </button>
                </div>
            </div>
        </div>

        <!-- Feed Screen -->
        <div id="feedScreen" class="screen">
            <div class="feed-header">
                <h2><i class="fas fa-globe-americas"></i> Community Voices</h2>
                <div class="feed-actions">
                    <button class="btn btn-outline" id="newPostBtn">
                        <i class="fas fa-plus"></i> New Post
                    </button>
                    <button class="btn btn-outline" id="clearFeedBtn">
                        <i class="fas fa-trash"></i> Clear Feed
                    </button>
                    <button class="btn btn-outline" id="exportBtn">
                        <i class="fas fa-download"></i> Export
                    </button>
                </div>
            </div>
            
            <div class="feed-container" id="feedContainer">
                <!-- Voice notes will be dynamically added here -->
            </div>
        </div>
    </div>

    <footer>
        <p>© 2025 VoiceFirst Social. All rights reserved.</p>
        <p>Created by Samar Jeet Jamwal</p>
    </footer>

    <script>
        // DOM Elements
        const signupScreen = document.getElementById('signupScreen');
        const loginScreen = document.getElementById('loginScreen');
        const profileScreen = document.getElementById('profileScreen');
        const editProfileScreen = document.getElementById('editProfileScreen');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const recorderScreen = document.getElementById('recorderScreen');
        const feedScreen = document.getElementById('feedScreen');
        
        const backBtn = document.getElementById('backBtn');
        const goToLogin = document.getElementById('goToLogin');
        const goToSignup = document.getElementById('goToSignup');
        const signupForm = document.getElementById('signupForm');
        const loginForm = document.getElementById('loginForm');
        const logoutBtn = document.getElementById('logoutBtn');
        const viewProfileBtn = document.getElementById('viewProfileBtn');
        const editProfileBtn = document.getElementById('editProfileBtn');
        const editProfileForm = document.getElementById('editProfileForm');
        const avatarUpload = document.getElementById('avatarUpload');
        const avatarPreview = document.getElementById('avatarPreview');
        const avatarImage = document.getElementById('avatarImage');
        const avatarText = document.getElementById('avatarText');
        const startBtn = document.getElementById('startBtn');
        const newPostBtn = document.getElementById('newPostBtn');
        const recordBtn = document.getElementById('recordBtn');
        const postBtn = document.getElementById('postBtn');
        const clearFeedBtn = document.getElementById('clearFeedBtn');
        const exportBtn = document.getElementById('exportBtn');
        const previewContainer = document.getElementById('previewContainer');
        const previewAudio = document.getElementById('previewAudio');
        const timerDisplay = document.getElementById('timer');
        const feedContainer = document.getElementById('feedContainer');
        const effectOptions = document.querySelectorAll('.effect-option');
        
        // State variables
        let currentUser = null;
        let mediaRecorder;
        let audioChunks = [];
        let recordingStartTime;
        let recordingInterval;
        let selectedEffect = 'normal';
        let currentBlob = null;
        let feedData = JSON.parse(localStorage.getItem('voiceFeed')) || [];
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let avatarFile = null;
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            checkAuthState();
            setupEventListeners();
        });
        
        // Event Listeners
        function setupEventListeners() {
            // Auth navigation
            goToLogin.addEventListener('click', (e) => {
                e.preventDefault();
                showScreen(loginScreen);
            });
            
            goToSignup.addEventListener('click', (e) => {
                e.preventDefault();
                showScreen(signupScreen);
            });
            
            // Auth forms
            signupForm.addEventListener('submit', handleSignup);
            loginForm.addEventListener('submit', handleLogin);
            
            // Profile actions
            logoutBtn.addEventListener('click', handleLogout);
            viewProfileBtn.addEventListener('click', () => showScreen(profileScreen));
            editProfileBtn.addEventListener('click', () => showScreen(editProfileScreen));
            
            // Edit profile
            editProfileForm.addEventListener('submit', handleProfileUpdate);
            avatarUpload.addEventListener('change', handleAvatarUpload);
            
            // App navigation
            backBtn.addEventListener('click', goBack);
            startBtn.addEventListener('click', () => showScreen(recorderScreen));
            newPostBtn.addEventListener('click', () => showScreen(recorderScreen));
            clearFeedBtn.addEventListener('click', clearFeed);
            exportBtn.addEventListener('click', exportData);
            
            // Recording
            recordBtn.addEventListener('click', toggleRecording);
            postBtn.addEventListener('click', postVoiceNote);
            
            // Effect selection
            effectOptions.forEach(option => {
                option.addEventListener('click', () => {
                    effectOptions.forEach(opt => opt.classList.remove('active'));
                    option.classList.add('active');
                    selectedEffect = option.dataset.effect;
                });
            });
        }
        
        // Auth Functions
        function handleSignup(e) {
            e.preventDefault();
            
            const name = document.getElementById('signupName').value;
            const username = document.getElementById('signupUsername').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            
            // Check if username or email already exists
            if (users.find(u => u.username === username || u.email === email)) {
                alert('Username or email already exists');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                name,
                username,
                email,
                password, // In a real app, this would be hashed
                bio: "Voice enthusiast",
                avatar: null,
                posts: 0,
                likes: 0,
                comments: 0
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            // Set as current user and login
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update profile screen
            updateProfileScreen();
            
            // Show welcome screen
            showScreen(welcomeScreen);
        }
        
        function handleLogin(e) {
            e.preventDefault();
            
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            // Find user
            const user = users.find(u => 
                (u.username === username || u.email === username) && u.password === password
            );
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateProfileScreen();
                showScreen(welcomeScreen);
            } else {
                alert('Invalid username/email or password');
            }
        }
        
        function handleLogout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            showScreen(signupScreen);
        }
        
        function checkAuthState() {
            const storedUser = localStorage.getItem('currentUser');
            if (storedUser) {
                currentUser = JSON.parse(storedUser);
                updateProfileScreen();
                showScreen(welcomeScreen);
            } else {
                showScreen(signupScreen);
            }
        }
        
        // Profile Functions
        function updateProfileScreen() {
            if (!currentUser) return;
            
            document.getElementById('profileName').textContent = currentUser.name;
            document.getElementById('profileUsername').textContent = `@${currentUser.username}`;
            document.getElementById('profileEmail').textContent = currentUser.email;
            
            // Update avatar
            const profileAvatar = document.getElementById('profileAvatar');
            if (currentUser.avatar) {
                profileAvatar.textContent = '';
                profileAvatar.style.background = 'none';
                profileAvatar.innerHTML = `<img src="${currentUser.avatar}" alt="Avatar" style="width:100%;height:100%;object-fit:cover;">`;
            } else {
                profileAvatar.style.background = 'linear-gradient(to right, var(--primary), var(--secondary))';
                profileAvatar.innerHTML = '';
                profileAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
            }
            
            // Update stats (in a real app, these would be calculated from actual data)
            document.getElementById('postsCount').textContent = currentUser.posts || 0;
            document.getElementById('likesCount').textContent = currentUser.likes || 0;
            document.getElementById('commentsCount').textContent = currentUser.comments || 0;
        }
        
        function handleProfileUpdate(e) {
            e.preventDefault();
            
            if (!currentUser) return;
            
            // Update user data
            currentUser.name = document.getElementById('editName').value;
            currentUser.username = document.getElementById('editUsername').value;
            currentUser.email = document.getElementById('editEmail').value;
            currentUser.bio = document.getElementById('editBio').value;
            
            // Handle avatar
            if (avatarFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    currentUser.avatar = e.target.result;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    updateProfileScreen();
                    showScreen(profileScreen);
                };
                reader.readAsDataURL(avatarFile);
            } else {
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateProfileScreen();
                showScreen(profileScreen);
            }
            
            // Update users array
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('users', JSON.stringify(users));
            }
        }
        
        function handleAvatarUpload(e) {
            const file = e.target.files[0];
            if (file) {
                avatarFile = file;
                const reader = new FileReader();
                reader.onload = function(e) {
                    avatarImage.src = e.target.result;
                    avatarImage.style.display = 'block';
                    avatarText.style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        }
        
        // Screen Navigation
        function showScreen(screen) {
            signupScreen.classList.remove('active');
            loginScreen.classList.remove('active');
            profileScreen.classList.remove('active');
            editProfileScreen.classList.remove('active');
            welcomeScreen.classList.remove('active');
            recorderScreen.classList.remove('active');
            feedScreen.classList.remove('active');
            screen.classList.add('active');
            
            if (screen === feedScreen) {
                loadFeed();
            } else if (screen === editProfileScreen) {
                populateEditProfileForm();
            }
        }
        
        function goBack() {
            if (recorderScreen.classList.contains('active')) {
                showScreen(welcomeScreen);
            } else if (feedScreen.classList.contains('active')) {
                showScreen(welcomeScreen);
            } else if (profileScreen.classList.contains('active')) {
                showScreen(welcomeScreen);
            } else if (editProfileScreen.classList.contains('active')) {
                showScreen(profileScreen);
            } else if (loginScreen.classList.contains('active')) {
                showScreen(signupScreen);
            } else if (welcomeScreen.classList.contains('active')) {
                showScreen(signupScreen);
            }
        }
        
        function populateEditProfileForm() {
            if (!currentUser) return;
            
            document.getElementById('editName').value = currentUser.name || '';
            document.getElementById('editUsername').value = currentUser.username || '';
            document.getElementById('editEmail').value = currentUser.email || '';
            document.getElementById('editBio').value = currentUser.bio || '';
            
            // Set avatar preview
            if (currentUser.avatar) {
                avatarImage.src = currentUser.avatar;
                avatarImage.style.display = 'block';
                avatarText.style.display = 'none';
            } else {
                avatarImage.style.display = 'none';
                avatarText.style.display = 'block';
                avatarText.textContent = currentUser.name ? currentUser.name.charAt(0).toUpperCase() : 'U';
            }
            
            avatarFile = null;
        }
        
        // Recording Functions
        function toggleRecording() {
            if (!mediaRecorder) {
                startRecording();
            } else if (mediaRecorder.state === 'recording') {
                stopRecording();
            } else {
                startRecording();
            }
        }
        
        async function startRecording() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                mediaRecorder = new MediaRecorder(stream);
                audioChunks = [];
                
                mediaRecorder.ondataavailable = event => {
                    audioChunks.push(event.data);
                };
                
                mediaRecorder.onstop = processRecording;
                
                mediaRecorder.start();
                recordBtn.classList.add('recording');
                recordingStartTime = Date.now();
                startTimer();
            } catch (err) {
                alert('Microphone access denied. Please allow microphone access to record.');
                console.error('Error accessing microphone:', err);
            }
        }
        
        function stopRecording() {
            if (mediaRecorder && mediaRecorder.state === 'recording') {
                mediaRecorder.stop();
                recordBtn.classList.remove('recording');
                clearInterval(recordingInterval);
            }
        }
        
        function startTimer() {
            clearInterval(recordingInterval);
            recordingInterval = setInterval(() => {
                const elapsed = Date.now() - recordingStartTime;
                const seconds = Math.floor(elapsed / 1000);
                const minutes = Math.floor(seconds / 60);
                const displaySeconds = seconds % 60;
                timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${displaySeconds.toString().padStart(2, '0')}`;
                
                // Stop recording after 60 seconds
                if (seconds >= 60) {
                    stopRecording();
                }
            }, 1000);
        }
        
        function processRecording() {
            const audioBlob = new Blob(audioChunks, { type: 'audio/webm' });
            currentBlob = audioBlob;
            
            const audioUrl = URL.createObjectURL(audioBlob);
            previewAudio.src = audioUrl;
            previewContainer.classList.add('active');
        }
        
        // Voice Effects (simplified for demo)
        function applyEffect(blob, effect) {
            // In a real implementation, this would apply actual audio effects
            // For this demo, we'll just return the original blob
            return new Promise(resolve => {
                setTimeout(() => resolve(blob), 500);
            });
        }
        
        // Posting Functions
        async function postVoiceNote() {
            if (!currentBlob) return;
            
            const processedBlob = await applyEffect(currentBlob, selectedEffect);
            const displayName = currentUser.name || document.getElementById('displayName').value || 'Anonymous';
            const timestamp = new Date().toLocaleString();
            
            const note = {
                id: Date.now(),
                displayName,
                timestamp,
                effect: selectedEffect,
                blob: processedBlob,
                likes: 0,
                dislikes: 0,
                comments: []
            };
            
            feedData.unshift(note);
            localStorage.setItem('voiceFeed', JSON.stringify(feedData));
            
            // Update user stats
            if (currentUser) {
                currentUser.posts = (currentUser.posts || 0) + 1;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                updateProfileScreen();
            }
            
            // Reset recorder
            previewContainer.classList.remove('active');
            audioChunks = [];
            currentBlob = null;
            
            showScreen(feedScreen);
        }
        
        // Feed Functions
        function loadFeed() {
            feedContainer.innerHTML = '';
            
            if (feedData.length === 0) {
                feedContainer.innerHTML = `
                    <div class="voice-note" style="text-align: center; padding: 40px;">
                        <i class="fas fa-microphone-slash" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
                        <h3>No Voice Notes Yet</h3>
                        <p>Be the first to share your voice with the community!</p>
                        <button class="btn" style="margin-top: 20px;" id="firstPostBtn">
                            <i class="fas fa-plus"></i> Create Your First Post
                        </button>
                    </div>
                `;
                document.getElementById('firstPostBtn').addEventListener('click', () => showScreen(recorderScreen));
                return;
            }
            
            feedData.forEach(note => {
                const noteElement = createNoteElement(note);
                feedContainer.appendChild(noteElement);
            });
        }
        
        function createNoteElement(note) {
            const noteElement = document.createElement('div');
            noteElement.className = 'voice-note';
            noteElement.dataset.id = note.id;
            
            // Get effect name for display
            const effectNames = {
                'normal': 'Normal',
                'pitchUp': 'Pitch Up',
                'pitchDown': 'Pitch Down',
                'robot': 'Robot',
                'echo': 'Echo',
                'alien': 'Alien'
            };
            
            // Get first letter for avatar
            const firstLetter = note.displayName.charAt(0).toUpperCase();
            
            noteElement.innerHTML = `
                <div class="note-header">
                    <div class="avatar">${firstLetter}</div>
                    <div class="user-info">
                        <h3>${note.displayName}</h3>
                        <p>${note.timestamp}</p>
                    </div>
                </div>
                <div class="note-content">
                    <span class="effect-badge">${effectNames[note.effect] || note.effect}</span>
                    <audio class="note-audio" controls>
                        <source src="${URL.createObjectURL(note.blob)}" type="audio/webm">
                        Your browser does not support the audio element.
                    </audio>
                    <div class="note-stats">
                        <div class="stat like-btn" data-id="${note.id}">
                            <i class="fas fa-thumbs-up"></i>
                            <span class="like-count">${note.likes}</span>
                        </div>
                        <div class="stat dislike-btn" data-id="${note.id}">
                            <i class="fas fa-thumbs-down"></i>
                            <span class="dislike-count">${note.dislikes}</span>
                        </div>
                        <div class="stat comment-btn" data-id="${note.id}">
                            <i class="fas fa-comment"></i>
                            <span class="comment-count">${note.comments.length}</span>
                        </div>
                    </div>
                </div>
                <div class="comments-section">
                    <div class="comments-header">
                        <h4>Comments (${note.comments.length})</h4>
                    </div>
                    <div class="comments-list">
                        ${note.comments.map(comment => `
                            <div class="comment">
                                <div class="comment-avatar">${comment.author.charAt(0).toUpperCase()}</div>
                                <div class="comment-content">
                                    <div class="comment-author">${comment.author}</div>
                                    <div class="comment-text">${comment.text}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="add-comment">
                        <input type="text" class="comment-input" placeholder="Add a comment...">
                        <button class="comment-submit" data-id="${note.id}">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            `;
            
            return noteElement;
        }
        
        // Interaction Handlers
        feedContainer.addEventListener('click', (e) => {
            // Like button
            if (e.target.closest('.like-btn')) {
                const btn = e.target.closest('.like-btn');
                const id = parseInt(btn.dataset.id);
                const note = feedData.find(n => n.id === id);
                if (note) {
                    note.likes++;
                    localStorage.setItem('voiceFeed', JSON.stringify(feedData));
                    
                    // Update user stats
                    if (currentUser) {
                        currentUser.likes = (currentUser.likes || 0) + 1;
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                        updateProfileScreen();
                    }
                    
                    loadFeed();
                }
            }
            
            // Dislike button
            if (e.target.closest('.dislike-btn')) {
                const btn = e.target.closest('.dislike-btn');
                const id = parseInt(btn.dataset.id);
                const note = feedData.find(n => n.id === id);
                if (note) {
                    note.dislikes++;
                    localStorage.setItem('voiceFeed', JSON.stringify(feedData));
                    loadFeed();
                }
            }
            
            // Comment submit
            if (e.target.closest('.comment-submit')) {
                const btn = e.target.closest('.comment-submit');
                const id = parseInt(btn.dataset.id);
                const input = btn.parentElement.querySelector('.comment-input');
                const text = input.value.trim();
                
                if (text) {
                    const note = feedData.find(n => n.id === id);
                    if (note) {
                        const author = currentUser ? currentUser.name : 'Anonymous';
                        note.comments.push({ author, text });
                        localStorage.setItem('voiceFeed', JSON.stringify(feedData));
                        
                        // Update user stats
                        if (currentUser) {
                            currentUser.comments = (currentUser.comments || 0) + 1;
                            localStorage.setItem('currentUser', JSON.stringify(currentUser));
                            updateProfileScreen();
                        }
                        
                        input.value = '';
                        loadFeed();
                    }
                }
            }
        });
        
        // Utility Functions
        function clearFeed() {
            if (confirm('Are you sure you want to clear all voice notes? This cannot be undone.')) {
                feedData = [];
                localStorage.removeItem('voiceFeed');
                loadFeed();
            }
        }
        
        function exportData() {
            const dataStr = JSON.stringify(feedData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'voicefirst-feed.json';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
